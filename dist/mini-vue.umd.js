(function(i,u){typeof exports=="object"&&typeof module!="undefined"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(i=typeof globalThis!="undefined"?globalThis:i||self,u(i.MiniVue={}))})(this,function(i){"use strict";function u(e,t){e.props=t||{}}const L=Object.assign,f=e=>typeof e=="object"&&e!==null,A=e=>{throw new Error(e)},C=e=>/^on[A-Z]/.test(e),T=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),y=e=>e.charAt(0).toUpperCase()+e.slice(1),O=e=>e.split("-").map(t=>y(t)).join(""),h=e=>e?`on${O(e)}`:"",S={$el:e=>e.vnode.el,$slots:e=>e.slots},I={get({_:e},t){const{setupState:n,props:o}=e;if(T(n,t))return n[t];if(T(o,t))return o[t];const r=S[t];if(r)return r(e)}};function b(e,t,...n){const{props:o}=e,r=h(t),s=o[r];s&&s(...n)}var c=(e=>(e[e.ELEMENT=1]="ELEMENT",e[e.STATEFUL_COMPONENT=2]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=4]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=8]="ARRAY_CHILDREN",e[e.SLOT_CHILDREN=16]="SLOT_CHILDREN",e))(c||{});function H(e,t){e.vnode.shapeFlag&c.SLOT_CHILDREN&&w(t,e.slots)}function w(e,t){if(f(e))for(const n in e){const o=e[n];t[n]=r=>M(o(r))}}function M(e){return Array.isArray(e)?e:[e]}const g=new WeakMap;function D(e,t,n){const o=g.get(e);if(!o)throw new Error(`not found ${e}`);const r=o.get(t);if(!r)throw new Error(`not found ${t} in ${e}`);P(r)}function P(e){for(const t of e)t.scheduler?t.scheduler():t.run()}const v=p(),j=_(),$=p(!0),x=_(!0),U=p(!0,!0);function p(e=!1,t=!1){return function(o,r){let s=Reflect.get(o,r);return r===E.IS_REACTIVE?!e:r===E.IS_READONLY?e:(t||f(s)&&(s=e?G(s):z(s)),s)}}function _(e=!1){return function(n,o,r){if(e)return console.warn(`${o} is readonly, target can not be set, ${n}`),!0;const s=Reflect.set(n,o,r);return D(n,o),s}}const Y={get:v,set:j},N={get:$,set:x},F=L({},N,{get:U});var E=(e=>(e.IS_REACTIVE="__v_isReactive__",e.IS_READONLY="__v_isReadonly__",e))(E||{});function z(e){return a(e,Y)}function G(e){return a(e,N)}function V(e){return a(e,F)}function a(e,t){return f(e)?new Proxy(e,t):(console.warn(`target ${e} is not a object`),e)}function X(e){const t={vnode:e,type:e.type,setupState:{},props:{},emit:()=>{},emits:[],slots:{}};return t.emit=b.bind(null,t),t}function q(e){u(e,e.vnode.props),H(e,e.vnode.children),K(e)}function K(e){const t=e.type,{setup:n}=t;if(n){const o=n(V(e.props),{emit:e.emit});W(e,o)}e.proxy=new Proxy({_:e},I)}function W(e,t){typeof t=="object"&&(e.setupState=t),Z(e)}function Z(e){const t=e.type;t.render&&(e.render=t.render)}function B(e,t){d(e,t)}function d(e,t){const{shapeFlag:n}=e;n&c.ELEMENT?J(e,t):n&c.STATEFUL_COMPONENT&&ee(e,t)}function J(e,t){Q(e,t)}function Q(e,t){const{children:n,props:o,shapeFlag:r}=e,s=document.createElement(e.type);e.el=s,n&&(r&c.TEXT_CHILDREN?s.textContent=n:r&c.ARRAY_CHILDREN&&k(e,s));for(const l in o){const R=o[l];if(C(l)){const ie=l.slice(2).toLowerCase();s.addEventListener(ie,R)}else s.setAttribute(l,R)}t.appendChild(s)}function k(e,t){e.children.forEach(n=>{d(n,t)})}function ee(e,t){te(e,t)}function te(e,t){const n=X(e);q(n),ne(n,e,t)}function ne(e,t,n){var s;const{proxy:o}=e,r=(s=e.render)==null?void 0:s.call(o);r&&d(r,n),t.el=r.el}function m(e,t,n){const o={type:e,props:t,children:n,el:null,shapeFlag:oe(e)};return typeof n=="string"?o.shapeFlag|=c.TEXT_CHILDREN:Array.isArray(n)?o.shapeFlag|=c.ARRAY_CHILDREN:o.shapeFlag&c.STATEFUL_COMPONENT&&f(o.children)&&(o.shapeFlag|=c.SLOT_CHILDREN),o}function oe(e){return typeof e=="string"?c.ELEMENT:c.STATEFUL_COMPONENT}function re(e){return{mount(t){const n=m(e);let o;typeof t=="string"?o=document.querySelector(t):o=t,t||A(`can not find element ${t} on document`),B(n,o)}}}function se(e,t,n){return m(e,t,n)}function ce(e,t,n){const o=e[t];if(o&&typeof o=="function")return m("div",{},o(n))}i.createApp=re,i.h=se,i.renderSlots=ce,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
