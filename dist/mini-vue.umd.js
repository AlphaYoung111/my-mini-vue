var Tt=Object.defineProperty;var Rt=(f,T,y)=>T in f?Tt(f,T,{enumerable:!0,configurable:!0,writable:!0,value:y}):f[T]=y;var R=(f,T,y)=>(Rt(f,typeof T!="symbol"?T+"":T,y),y);(function(f,T){typeof exports=="object"&&typeof module!="undefined"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):(f=typeof globalThis!="undefined"?globalThis:f||self,T(f.MiniVue={}))})(this,function(f){"use strict";function T(e,t){e.props=t||{}}const y=Object.assign,I=e=>typeof e=="object"&&e!==null,fe=(e,t)=>!Object.is(e,t),le=e=>{throw new Error(e)},de=e=>/^on[A-Z]/.test(e),x=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ae=e=>e.charAt(0).toUpperCase()+e.slice(1),pe=e=>e.split("-").map(t=>ae(t)).join(""),he=e=>e?`on${pe(e)}`:"",O={},_e={$el:e=>e.vnode.el,$slots:e=>e.slots},Ee={get({_:e},t){const{setupState:n,props:r}=e;if(x(n,t))return n[t];if(x(r,t))return r[t];const d=_e[t];if(d)return d(e)}};function Te(e,t,...n){const{props:r}=e,d=he(t),h=r[d];h&&h(...n)}var E=(e=>(e[e.ELEMENT=1]="ELEMENT",e[e.STATEFUL_COMPONENT=2]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=4]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=8]="ARRAY_CHILDREN",e[e.SLOT_CHILDREN=16]="SLOT_CHILDREN",e))(E||{});function Re(e,t){e.vnode.shapeFlag&E.SLOT_CHILDREN&&ve(t,e.slots)}function ve(e,t){if(I(e))for(const n in e){const r=e[n];t[n]=d=>me(r(d))}}function me(e){return Array.isArray(e)?e:[e]}let C,M;class U{constructor(t,n){R(this,"_fn");R(this,"deps",[]);R(this,"active",!0);R(this,"onStop");this.scheduler=n,this._fn=t}run(){if(!this.active)return this._fn();C=this,M=!0;const t=this._fn();return M=!1,t}stop(){this.active&&(this.onStop&&this.onStop(),ye(this),this.active=!1)}}function ye(e){e.deps.forEach(t=>{t.delete(e)}),e.deps.length=0}const P=new WeakMap;function X(){return M&&C!==void 0}function Ne(e,t){if(!X())return;let n=P.get(e);n||(n=new Map,P.set(e,n));let r=n.get(t);r||(r=new Set,n.set(t,r)),z(r)}function z(e){e.has(C)||(e.add(C),C.deps.push(e))}function be(e,t){const n=P.get(e);if(!n)throw new Error(`not found ${e}`);const r=n.get(t);if(!r)throw new Error(`not found ${t} in ${e}`);G(r)}function G(e){for(const t of e)t.scheduler?t.scheduler():t.run()}function Ae(e,t){const n=new U(e,t==null?void 0:t.scheduler);y(n,t),n.run();const r=n.run.bind(n);return r.effect=n,r}const Ie=D(),Ce=B(),we=D(!0),ge=B(!0),Le=D(!0,!0);function D(e=!1,t=!1){return function(r,d){let h=Reflect.get(r,d);return d===H.IS_REACTIVE?!e:d===H.IS_READONLY?e:(t||(I(h)&&(h=e?K(h):j(h)),e||Ne(r,d)),h)}}function B(e=!1){return function(n,r,d){if(e)return console.warn(`${r} is readonly, target can not be set, ${n}`),!0;const h=Reflect.set(n,r,d);return be(n,r),h}}const Se={get:Ie,set:Ce},V={get:we,set:ge},Oe=y({},V,{get:Le});var H=(e=>(e.IS_REACTIVE="__v_isReactive__",e.IS_READONLY="__v_isReadonly__",e))(H||{});function j(e){return F(e,Se)}function K(e){return F(e,V)}function q(e){return!!e.__v_isReactive__}function J(e){return!!e.__v_isReadonly__}function Me(e){return q(e)||J(e)}function W(e){return F(e,Oe)}function F(e,t){return I(e)?new Proxy(e,t):(console.warn(`target ${e} is not a object`),e)}class Pe{constructor(t){R(this,"_value");R(this,"_rawValue");R(this,"deps");R(this,"_v_isRef",!0);this._rawValue=t,this._value=Z(t),this.deps=new Set}get value(){return De(this),this._value}set value(t){fe(t,this._rawValue)&&(this._rawValue=t,this._value=Z(t),G(this.deps))}}function Z(e){return I(e)?j(e):e}function De(e){X()&&z(e.deps)}function He(e){return new Pe(e)}function g(e){return!!e._v_isRef}function Q(e){return g(e)?e.value:e}function ee(e){return new Proxy(e,{get(t,n){return Q(Reflect.get(t,n))},set(t,n,r){return g(t[n])&&!g(r)?t[n].value=r:Reflect.set(t,n,r)}})}function je(e,t){const n={isMounted:!1,vnode:e,type:e.type,setupState:{},props:{},emit:()=>{},emits:[],slots:{},provides:t?t.provides:{},parent:t,subTree:null};return n.emit=Te.bind(null,n),n}function Fe(e){T(e,e.vnode.props),Re(e,e.vnode.children),$e(e)}function $e(e){const t=e.type,{setup:n}=t;if(n){ne(e);const r=n(W(e.props),{emit:e.emit});ne(null),Ye(e,r)}e.proxy=new Proxy({_:e},Ee)}function Ye(e,t){typeof t=="object"&&(e.setupState=ee(t)),ke(e)}function ke(e){const t=e.type;t.render&&(e.render=t.render)}let te=null;function $(){return te}function ne(e){te=e}const re=Symbol("Fragment"),oe=Symbol("Text");function w(e,t,n){const r={type:e,props:t,children:n,el:null,shapeFlag:Ue(e),key:t&&t.key};return typeof n=="string"?r.shapeFlag|=E.TEXT_CHILDREN:Array.isArray(n)?r.shapeFlag|=E.ARRAY_CHILDREN:r.shapeFlag&E.STATEFUL_COMPONENT&&I(r.children)&&(r.shapeFlag|=E.SLOT_CHILDREN),r}function xe(e){return w(oe,{},e)}function Ue(e){return typeof e=="string"?E.ELEMENT:E.STATEFUL_COMPONENT}function se(e){return function(n){return{mount(r){const d=w(n);let h;typeof r=="string"?h=document.querySelector(r):h=r,r||le(`can not find element ${r} on document`),e(d,h)}}}}function Xe(e,t,n){return w(e,t,n)}function ze(e,t,n){const r=e[t];if(r&&typeof r=="function")return w(re,{},r(n))}function Ge(e,t){var r;const n=$();if(n){let{provides:d}=n;const h=(r=n.parent)==null?void 0:r.provides;h===d&&(d=n.provides=Object.create(h)),d[e]=t}}function Be(e,t){var r;const n=$();if(n){const d=(r=n.parent)==null?void 0:r.provides;if(d){if(e in d)return d[e];if(t)return typeof t=="function"?t():t}}}function ie(e){const{createElement:t,patchProp:n,insert:r,remove:d,setElementText:h}=e;function rt(o,s){N(null,o,s,null,null)}const N=(o,s,i,c,u)=>{const{shapeFlag:_,type:l}=s;switch(l){case re:st(o,s,i,c,u);break;case oe:ot(o,s,i);break;default:_&E.ELEMENT?dt(o,s,i,c,u):_&E.STATEFUL_COMPONENT&&pt(o,s,i,c,u);break}},ot=(o,s,i)=>{const{children:c}=s,u=s.el=document.createTextNode(c);i.append(u)},st=(o,s,i,c,u)=>{k(s.children,i,c,u)};function it(o,s,i){if(s!==i){for(const c in i){const u=s[c],_=i[c];u!==_&&n(o,c,u,_)}if(s!==O)for(const c in s)c in i||n(o,c,s[c],null)}}function ct(o,s,i,c,u){const{shapeFlag:_,children:l}=o,{shapeFlag:a,children:p}=s;a&E.TEXT_CHILDREN?(_&E.ARRAY_CHILDREN&&ft(o.children),l!==p&&h(i,p)):_&E.TEXT_CHILDREN?(h(i,""),k(p,i,c,u)):ut(l,p,i,c,u)}function ut(o,s,i,c,u){const _=s.length;let l=0,a=o.length-1,p=_-1;for(;l<=a&&l<=p;){const v=o[l],m=s[l];if(Y(v,m))N(v,m,i,c,u);else break;l++}for(;l<=a&&l<=p;){const v=o[a],m=s[p];if(Y(v,m))N(v,m,i,c,u);else break;a--,p--}if(l>a){if(l<=p){const v=p+1,m=v<_?s[v].el:null;for(;l<=p;)N(null,s[l],i,c,m),l++}}else if(l>p)for(;l<=a;)d(o[l].el),l++;else{const v=l,m=l,Et=p-m+1;let ce=0;const ue=new Map;for(let b=m;b<=p;b++){const A=s[b];ue.set(A.key,b)}for(let b=v;b<=a;b++){const A=o[b];if(ce>=Et){d(A.el);continue}let L;if(A.key!==null)L=ue.get(A.key);else for(let S=m;S<=p;S++)if(Y(A,s[S])){L=S;break}L===void 0?d(A.el):(N(A,s[L],i,c,null),ce++)}}console.log(l)}function Y(o,s){return o.type===s.type&&o.key===s.key}function ft(o){for(const s of o){const i=s.el;d(i)}}function lt(o,s,i,c,u){const _=o.props||O,l=s.props||O,a=s.el=o.el;ct(o,s,a,c,u),it(a,_,l)}function dt(o,s,i,c,u){o?lt(o,s,i,c,u):at(s,i,c,u)}function at(o,s,i,c){const{children:u,props:_,shapeFlag:l}=o,a=t(o.type);o.el=a,u&&(l&E.TEXT_CHILDREN?a.textContent=u:l&E.ARRAY_CHILDREN&&k(o.children,a,i,c));for(const p in _){const v=_[p];n(a,p,null,v)}r(a,s,c)}function k(o,s,i,c){o.forEach(u=>{N(null,u,s,i,c)})}function pt(o,s,i,c,u){ht(s,i,c,u)}function ht(o,s,i,c){const u=je(o,i);Fe(u),_t(u,o,s,c)}function _t(o,s,i,c){Ae(()=>{var u,_;if(o.isMounted){const{proxy:l}=o,a=o.subTree,p=(_=o.render)==null?void 0:_.call(l);o.subTree=p||null,p&&N(a,p,i,o,c),s.el=p.el,o.isMounted=!0}else{const{proxy:l}=o;o.subTree=((u=o.render)==null?void 0:u.call(l))||null;const a=o.subTree;a&&N(null,a,i,o,c),s.el=a.el,o.isMounted=!0}})}return{createApp:se(rt)}}function Ve(e){return document.createElement(e)}function Ke(e,t,n,r){if(de(t)){const d=t.slice(2).toLowerCase();e.addEventListener(d,r)}else r==null?e.removeAttribute(t):e.setAttribute(t,r)}function qe(e,t,n){t.insertBefore(e,n||null)}function Je(e){const t=e.parentNode;t&&t.removeChild(e)}function We(e,t){e.textContent=t}const Ze=ie({createElement:Ve,patchProp:Ke,insert:qe,remove:Je,setElementText:We});function Qe(e){return Ze.createApp(e)}class et{constructor(t){R(this,"_getter");R(this,"_isDirty",!0);R(this,"_value");R(this,"_effect");this._getter=t,this._effect=new U(t,()=>{this._isDirty||(this._isDirty=!0)})}get value(){return this._isDirty&&(this._isDirty=!1,this._value=this._effect.run()),this._value}}function tt(e){return new et(e)}function nt(e,t){return e+t}f.add=nt,f.computed=tt,f.createApp=Qe,f.createAppAPI=se,f.createRender=ie,f.createTextNode=xe,f.createVNode=w,f.getCurrentInstance=$,f.h=Xe,f.inject=Be,f.isProxy=Me,f.isReactive=q,f.isReadonly=J,f.isRef=g,f.provide=Ge,f.proxyRefs=ee,f.reactive=j,f.readonly=K,f.ref=He,f.renderSlots=ze,f.shallowReadonly=W,f.unRef=Q,Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
