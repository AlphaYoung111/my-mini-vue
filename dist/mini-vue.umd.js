(function(c,i){typeof exports=="object"&&typeof module!="undefined"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(c=typeof globalThis!="undefined"?globalThis:c||self,i(c.MiniVue={}))})(this,function(c){"use strict";const i={$el:e=>e.vnode.el},l={get({_:e},t){const{setupState:n}=e;if(t in n)return n[t];const o=i[t];if(o)return o(e)}};function T(e){return{vnode:e,type:e.type,setupState:{}}}function d(e){m(e)}function m(e){const t=e.type,{setup:n}=t;if(n){const o=n();N(e,o)}e.proxy=new Proxy({_:e},l)}function N(e,t){typeof t=="object"&&(e.setupState=t),C(e)}function C(e){const t=e.type;t.render&&(e.render=t.render)}var u=(e=>(e[e.ELEMENT=1]="ELEMENT",e[e.STATEFUL_COMPONENT=2]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=4]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=8]="ARRAY_CHILDREN",e))(u||{});function R(e,t){s(e,t)}function s(e,t){const{shapeFlag:n}=e;n&u.ELEMENT?y(e,t):n&u.STATEFUL_COMPONENT&&_(e,t)}function y(e,t){A(e,t)}function A(e,t){const{children:n,props:o,shapeFlag:f}=e,r=document.createElement(e.type);e.el=r,n&&(f&u.TEXT_CHILDREN?r.textContent=n:f&u.ARRAY_CHILDREN&&L(e,r));for(const E in o){const O=o[E];r.setAttribute(E,O)}t.appendChild(r)}function L(e,t){e.children.forEach(n=>{s(n,t)})}function _(e,t){a(e,t)}function a(e,t){const n=T(e);d(n),M(n,e,t)}function M(e,t,n){var r;const{proxy:o}=e,f=(r=e.render)==null?void 0:r.call(o);f&&s(f,n),t.el=f.el}function p(e,t,n){const o={type:e,props:t,children:n,el:null,shapeFlag:h(e)};return typeof n=="string"?o.shapeFlag|=u.TEXT_CHILDREN:Array.isArray(n)&&(o.shapeFlag|=u.ARRAY_CHILDREN),o}function h(e){return typeof e=="string"?u.ELEMENT:u.STATEFUL_COMPONENT}const I=e=>{throw new Error(e)};function b(e){return{mount(t){const n=p(e);let o;typeof t=="string"?o=document.querySelector(t):o=t,t||I(`can not find element ${t} on document`),R(n,o)}}}function H(e,t,n){return p(e,t,n)}c.createApp=b,c.h=H,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
