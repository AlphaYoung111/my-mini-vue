(function(u,i){typeof exports=="object"&&typeof module!="undefined"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(u=typeof globalThis!="undefined"?globalThis:u||self,i(u.MiniVue={}))})(this,function(u){"use strict";const i={$el:e=>e.vnode.el},T={get({_:e},t){const{setupState:n}=e;if(t in n)return n[t];const o=i[t];if(o)return o(e)}};function d(e){return{vnode:e,type:e.type,setupState:{}}}function m(e){N(e)}function N(e){const t=e.type,{setup:n}=t;if(n){const o=n();C(e,o)}e.proxy=new Proxy({_:e},T)}function C(e,t){typeof t=="object"&&(e.setupState=t),A(e)}function A(e){const t=e.type;t.render&&(e.render=t.render)}var c=(e=>(e[e.ELEMENT=1]="ELEMENT",e[e.STATEFUL_COMPONENT=2]="STATEFUL_COMPONENT",e[e.TEXT_CHILDREN=4]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=8]="ARRAY_CHILDREN",e))(c||{});const L=e=>{throw new Error(e)},R=e=>/^on[A-Z]/.test(e);function y(e,t){p(e,t)}function p(e,t){const{shapeFlag:n}=e;n&c.ELEMENT?_(e,t):n&c.STATEFUL_COMPONENT&&h(e,t)}function _(e,t){a(e,t)}function a(e,t){const{children:n,props:o,shapeFlag:s}=e,r=document.createElement(e.type);e.el=r,n&&(s&c.TEXT_CHILDREN?r.textContent=n:s&c.ARRAY_CHILDREN&&M(e,r));for(const f in o){const l=o[f];if(R(f)){const D=f.slice(2).toLowerCase();r.addEventListener(D,l)}else r.setAttribute(f,l)}t.appendChild(r)}function M(e,t){e.children.forEach(n=>{p(n,t)})}function h(e,t){I(e,t)}function I(e,t){const n=d(e);m(n),O(n,e,t)}function O(e,t,n){var r;const{proxy:o}=e,s=(r=e.render)==null?void 0:r.call(o);s&&p(s,n),t.el=s.el}function E(e,t,n){const o={type:e,props:t,children:n,el:null,shapeFlag:b(e)};return typeof n=="string"?o.shapeFlag|=c.TEXT_CHILDREN:Array.isArray(n)&&(o.shapeFlag|=c.ARRAY_CHILDREN),o}function b(e){return typeof e=="string"?c.ELEMENT:c.STATEFUL_COMPONENT}function H(e){return{mount(t){const n=E(e);let o;typeof t=="string"?o=document.querySelector(t):o=t,t||L(`can not find element ${t} on document`),y(n,o)}}}function P(e,t,n){return E(e,t,n)}u.createApp=H,u.h=P,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
